(()=>{const t="Now playing view",n=`aside[aria-label="${t}"]`,e="div[data-testid='PanelHeader_CloseButton'] > button",i='button[aria-label="Hide Now Playing view"]',a={FRIENDS_ACTIVITY_BUTTON:"button.main-topBar-buddyFeed[aria-label='Friend Activity']",NOW_PLAYING_BUTTON:`button.main-genericButton-button[aria-label='${t}']`};async function o(t,n=null){for(let e=0;e<30;e++){const e=null!=n?n.querySelector(t):document.querySelector(t);if(e)return e;await new Promise((t=>setTimeout(t,300)))}return null}async function r(t){const n=await o(t);n&&(n.style.setProperty("width","0","important"),n.style.setProperty("height","0","important"),n.style.setProperty("display","none","important"))}async function u(t,n=null,e=50,i=10){let a=null,o=0;for(;!a&&o<i;)a=n?n.querySelector(t):document.querySelector(t),a||(await new Promise((t=>setTimeout(t,e))),o++);return!!a&&(a.click(),!0)}(async()=>{let t=0;for(;!(Spicetify&&Spicetify.Platform&&Spicetify.Platform.FeedbackAPI&&"complete"===document.readyState)&&t<30;)t++,await new Promise((t=>setTimeout(t,300)));window._sideHideObserver=await async function(){const t=new MutationObserver((async t=>{const a=document.querySelector(n);a&&(await u(i,a)||await u(e,a),setTimeout((async()=>{const t=document.querySelector(n);t&&(t.style.display="none")}),500))}));t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-label","class","style"]});const c=await o(n);c&&(await u(i,c)||await u(e,c)||(c.style.display="none !important",c.style.visibility="hidden !important"));for(const t in a)await r(a[t]);return t}()})()})();