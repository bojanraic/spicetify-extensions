(()=>{const t="Now playing view",n=`aside[aria-label="${t}"]`,e="div[data-testid='PanelHeader_CloseButton'] > button",i='button[aria-label="Hide Now Playing view"]',a={FRIENDS_ACTIVITY_BUTTON:"button.main-topBar-buddyFeed[aria-label='Friend Activity']",NOW_PLAYING_BUTTON:`button.main-genericButton-button[aria-label='${t}']`},o=30,r=300;async function u(t,n=null){for(let e=0;e<o;e++){const e=null!=n?n.querySelector(t):document.querySelector(t);if(e)return e;await new Promise((t=>setTimeout(t,r)))}return null}async function c(t){const n=await u(t);n&&(n.style.setProperty("width","0","important"),n.style.setProperty("height","0","important"),n.style.setProperty("display","none","important"))}async function l(t,n=null,e=50,i=10){let a=null,o=0;for(;!a&&o<i;)a=n?n.querySelector(t):document.querySelector(t),a||(await new Promise((t=>setTimeout(t,e))),o++);return!!a&&(a.click(),!0)}(async(t,s)=>{let d=0;for(;!(Spicetify&&Spicetify.Platform&&Spicetify.Platform.FeedbackAPI&&"complete"===document.readyState)&&d<o;)d++,await new Promise((t=>setTimeout(t,r)));window._sideHideObserver=await async function(){const t=new MutationObserver((async t=>{const a=document.querySelector(n);a&&(await l(i,a)||await l(e,a),setTimeout((async()=>{const t=document.querySelector(n);t&&(t.style.display="none")}),500))}));t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-label","class","style"]});const o=await u(n);o&&(await l(i,o)||await l(e,o)||(o.style.display="none !important",o.style.visibility="hidden !important"));for(const t in a)await c(a[t]);return t}()})()})();