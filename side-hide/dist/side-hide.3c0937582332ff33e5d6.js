(()=>{const t="Root__main-view",n="Root__nav-bar",e="Root",i="main-view-container",o="main-view-container__scroll-node",a={ROOT:`.${e}`,RIGHT_SIDEBAR:"div.Root__right-sidebar",MAIN_VIEW:`div.${t}`,NAV_BAR:`.${n}`,MAIN_VIEW_CONTAINER:`.${i}`,SCROLL_NODE:`.${o}`,FRIENDS_ACTIVITY_BUTTON:"button.main-topBar-buddyFeed[aria-label='Friend Activity']",NOW_PLAYING_BUTTON:"button.main-genericButton-button[aria-label='Now playing view']"},r=5,s=120,u="side-hide-layout-fix",c=`\n  /* Fix for sidebar resize issues - prevent content overlap */\n  .${t} {\n    margin-left: 0 !important;\n    width: auto !important;\n    min-width: 0 !important;\n    grid-column: 2 / 3 !important;\n  }\n  \n  /* Ensure the content container uses proper sizing */\n  .${i} {\n    margin-left: 0 !important;\n    width: 100% !important;\n    max-width: none !important;\n    box-sizing: border-box !important;\n  }\n  \n  /* Ensure scroll container takes full width */\n  .${o} {\n    width: 100% !important;\n  }\n  \n  /* Ensure the Root grid layout respects the nav bar size */\n  .${e} {\n    grid-template-columns: auto 1fr !important;\n  }\n  \n  /* Custom layout for nav bar to ensure it sizes properly */\n  .${n} {\n    position: relative !important;\n    z-index: 2 !important;\n  }\n`;async function m(t,n=null){for(let e=0;e<r;e++){const e=n instanceof Element?n.querySelector(t):document.querySelector(t);if(e)return e;await new Promise((t=>setTimeout(t,s)))}return null}async function l(t){const n=await m(t);n&&n.remove()}function d(t,n){let e=document.getElementById(n);return e&&e.remove(),e=document.createElement("style"),e.id=n,e.innerHTML=t,document.head.appendChild(e),e}(async(t,n)=>{for(;!Spicetify.Platform||!Spicetify.Platform.FeedbackAPI||"complete"!==document.readyState;)await new Promise((t=>setTimeout(t,s)));await async function(){const t=await m(a.RIGHT_SIDEBAR);if(t){const n=t.parentElement;if(n){const e=await m(a.MAIN_VIEW);n.removeChild(t),n.setAttribute("data-right-sidebar-hidden","true"),e&&(e.style.width="100%",e.style.maxWidth="100%",e.style.gridColumn="1 / -1",window.addEventListener("resize",(function(){requestAnimationFrame((()=>{e.style.width="100%",e.style.maxWidth="100%",e.style.gridColumn="1 / -1"}))})),new MutationObserver((t=>{t.forEach((t=>{"attributes"!==t.type||"style"!==t.attributeName&&"class"!==t.attributeName||requestAnimationFrame((()=>{e.style.width="100%",e.style.maxWidth="100%",e.style.gridColumn="1 / -1"}))}))})).observe(e,{attributes:!0}))}else t.style.display="none"}!function(){d(c,u);const t=document.querySelector(a.NAV_BAR),n=document.querySelector(a.MAIN_VIEW);if(!t||!n)return;new ResizeObserver((()=>{})).observe(t);const e=new MutationObserver((t=>{t.forEach((t=>{"style"!==t.attributeName&&"class"!==t.attributeName||d(c,u)}))})),i=document.querySelector(a.ROOT);function o(){const n=t.offsetWidth;i&&i.style.setProperty("--left-sidebar-width",`${n}px`)}i&&e.observe(i,{attributes:!0,attributeFilter:["style","class"]}),o(),window.addEventListener("resize",(()=>{o()}))}(),await l(a.FRIENDS_ACTIVITY_BUTTON),await l(a.NOW_PLAYING_BUTTON)}()})()})();