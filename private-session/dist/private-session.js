(()=>{const t={PRIVATE_SESSION_INDICATOR:"button.main-noConnection-button",MAIN_MENU:"div.main-topBar-topbarContentRight > button.main-userWidget-boxCondensed",MENU_ITEM_LABEL:"span",MENU_ITEM_BUTTON:"div.main-userWidget-dropDownMenu > ul > li > button.main-contextMenu-menuItemButton",MENU_ITEM_CHECKED:"svg"},n="Private session",e=5,o=100;async function i(t,n){for(let i=0;i<e;i++){if(n){const n=document.querySelectorAll(t);if(n.length>0)return n}else{const n=document.querySelector(t);if(n)return n}await new Promise((t=>setTimeout(t,o)))}return null}(async(t,n)=>{for(;!t();)await new Promise((t=>setTimeout(t,o)));await n()})((()=>Spicetify.Platform),(async function(){if(!await i(t.PRIVATE_SESSION_INDICATOR,!1)){const e=await async function(t){const n=await i(t,!1);return n.click(),n}(t.MAIN_MENU),o=await async function(n){const e=await i(t.MENU_ITEM_BUTTON,!0);for(const o of e){const e=o.querySelector(t.MENU_ITEM_LABEL);if(e&&e.textContent.trim()===n)return o}return null}(n);o?await async function(n){return!!n.querySelector(t.MENU_ITEM_CHECKED)}(o)?await e.click():await o.click():console.error(`${n} menu item not found`)}}))})();